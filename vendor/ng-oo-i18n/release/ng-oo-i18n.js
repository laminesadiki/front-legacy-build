/**
 * ng-oo-i18n - v4.0.0 - 2014-11-05
 *
 * Copyright (c) 2014 Oodrive
 */
!function(a){!function(){var b={},c={},d=[],e=!1,f={fr:"Français",en:"English",de:"Deutsch",zh:"中文",zh_CN:"中文",es:"Español",it:"Italiano",ja:"日本語",nl:"Nederlands",pt:"Português",pt_BR:"Português",th:"ไทย",ms:"Melayu"},g=function(a,c){b[a]||(b[a]=[]),b[a].push(c)},h=function(a,b){for(var c in b)a[c]=b[c]},i=null,j=null,k=a.module("oo.i18n",[]).provider("$i18n",function(){var k=this,l=function(b){return a.isDefined(b)?void(i=b):i};this.lang=l;var m=function(a){return!!b[a]};this.addDictionaryPath=function(a){return"string"==typeof a?void d.push({file:a}):void d.push(a)},this.dictionaryPath=function(a){k.addDictionaryPath(a)},this.addExternalDictionary=function(a){k.addDictionaryPath(a)},this.autoLoadDictionary=function(b){return a.isDefined(b)?void(e=b):e},this.addDictionary=g,this.$get=["$rootScope","$locale","$injector","$q","$sce",function(k,l,n,o,p){if(n.has("$sanitize")&&(j=n.get("$sanitize")),e&&!c[i]){c[i]={};var q=c[i];h(q,l)}var r=function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):null},s=function(c,d,e){"boolean"==typeof d&&(e=d,d=null);for(var f=b[i]||[],g=null,h=0;h<f.length&&!g;++h)g=f[h][c];if(g||(g=c),d){if(a.isArray(d))for(var k=0;k<d.length;++k)g=g.replace("{"+k+"}",d[k]);if(a.isObject(d))for(c in d)g=g.replace("{"+c+"}",d[c]),g=g.replace("{$"+c+"}",d[c])}return e&&(g=r(g).replace(/\n/g,"<br>"),j&&(g=j(g)),g=p.trustAsHtml(g)),g};return s.exist=function(a){for(var c=b[i]||[],d=null,e=0;e<c.length&&!d;++e)d=c[e][a];return!!d},s.langName=function(a,b){return b?s("oo.i18n.lang."+a):f[a]},s.lang=function(b){if(!a.isDefined(b))return i;if(e){var c=o.defer();return s.loadDictionary(b).then(function(){i=b,c.resolve(!0,i)},function(){c.reject()})}i=b},s.addDictionary=g,s.isDictionary=function(a){return!!b[a]},s.loadDictionary=function(b){var f=o.defer();if(e&&!m(b)){for(var g=[],i=0;i<d.length;++i)g.push(d[i].file.replace("%LANG%",(d[i].mapping?d[i].mapping[b]:null)||b));0===g.length&&f.resolve(),require(g,function(){for(var e=!1,g=0;g<d.length;++g)e=e||d[g].angular;if(e){var i=a.injector(["ngLocale"]),j=i.get("$locale");c[b]=j,h(l,j)}f.resolve()},function(){f.reject()})}else m(b)?setTimeout(function(){var a=c[b];h(l,a),f.resolve()},1):setTimeout(function(){f.reject()},1);return f.promise.then(function(){})},s}]}).filter("i18n",["$i18n",function(a){var b=function(){return a.apply(null,arguments)};return b.$stateful=!0,b}]).filter("i18nOrText",["$i18n",function(a){var b=function(b){if(b&&"i18n:"===b.slice(0,5)){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];return c[0]=b.substring(5),a.apply(null,c)}return b};return b.$stateful=!0,b}]);k.addDictionary=function(a,b){g(a,b)}}()}(angular);