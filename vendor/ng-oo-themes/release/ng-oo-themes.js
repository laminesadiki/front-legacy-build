/**
 * ng-oo-themes - v3.0.0 - 2014-11-05
 *
 * Copyright (c) 2014 Oodrive
 */
!function(a){!function(){var b=null,c=null,d=[b],e=null;a.module("oo.themes",[]).provider("$ooThemes",function(){this.themePath=function(b){return a.isDefined(b)?void(e=b):e},this.defaultTheme=function(c){return a.isDefined(c)?void(b=c):b},this.theme=function(b){return a.isDefined(b)?void(c=b):c},this.themes=function(b){return a.isDefined(b)?void(d=b):d},this.$get=["$rootScope",function(f){var g={};return g.defaultTheme=function(d){return a.isDefined(d)?void(b!==d&&(b=d,f.$broadcast("$defaultThemeChange",c))):b},g.theme=function(d){if(!a.isDefined(d))return c||b;if(e&&(c||b)!==d){var g=$("link").filter(function(a,b){return $(b).attr("href")===e.replace("%THEME%",c)})[0];g&&(g.disabled=!0),c=d;var h=$("link").filter(function(a,b){return $(b).attr("href")===e.replace("%THEME%",c)})[0];h?h.disabled=!1:$("head").append('<link rel="stylesheet" href="'+e.replace("%THEME%",c)+'" type="text/css">'),f.$broadcast("$themeChange",c)}},g.themes=function(b){return a.isDefined(b)?void(d=b):d},g}]}).run(["$rootScope","$ooThemes","$location",function(a,c,d){a.$on("$locationChangeSuccess",function(){var a=d.search().theme;(a||b)&&c.theme(a?a:b)}),a.$on("$themeChange",function(a,c){d.search("theme",c&&c!==b?c:null)}),a.$on("$defaultThemeChange",function(a,c){d.search("theme",c&&c!==b?c:null).replace()})}])}()}(angular);