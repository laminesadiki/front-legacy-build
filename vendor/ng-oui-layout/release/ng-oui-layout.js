/**
 * ng-oui-layout - v6.0.2 - 2015-01-19
 *
 * Copyright (c) 2015 Oodrive
 */
!function(a){!function(){a.module("oui.layout.application",["oui-templates-layout","oui.auth"]).directive("ouiApplication",["$ouiAuth",function(a){return{restrict:"AE",transclude:!0,scope:{},controller:["$scope","$rootScope",function(b,c){var d=null;b.pages=[],b.isVisible=function(a){return!!a.visible},this.addPage=function(a){b.pages.push(a)};var e=function(b){if(d!==a.authState()){var e=d;d=a.authState();for(var f=0;f<b.pages.length;++f)b.pages[f].visible=-1!==b.pages[f].authStates.indexOf(d);return c.$broadcast("oo.layoutReflow",{module:"oui.layout.application",directive:"ouiApplication",oldAuthState:e,authState:d}),d===a.AUTH_STATE_OK}return!0};b.getClass=function(b){var c=[];-1!==b.authStates.indexOf(a.AUTH_STATE_OK)&&c.push("oui-application-step-main");for(var d=0;d<b.authStates.length;++d)c.push("oui-application-step-"+b.authStates[d].toLowerCase());return c},b.$on("$authStateChange",function(a){e(b)||a.preventDefault()}),b.$on("$routerNavChange",function(a){e(b)||a.preventDefault()}),b.updateFromAuth=function(){e(b),delete b.updateFromAuth}}],link:function(a){a.updateFromAuth()},templateUrl:"oui-layout/application/application.tpl.html",replace:!0}}]).directive("ouiApplicationPage",["$ouiAuth",function(a){return{require:"^ouiApplication",restrict:"AE",scope:{tpl:"@"},link:function(b,c,d,e){for(var f,g,h=d.authState.split(","),i=0;i<h.length;++i){g=!1,f=h[i];for(var j in a)j.match(/^AUTH_STATE_/)&&a[j]===f&&(g=!0);g||a[f]&&(f=a[f],g=!0),g||a["AUTH_STATE_"+f]&&(f=a["AUTH_STATE_"+f],g=!0),h[i]=f}b.authStates=h,e.addPage(b)}}}])}(),function(){a.module("oui.layout.auth.captcha",["oui-templates-layout","oo.i18n","oui.layout.simplePage","oui.form.input","oui.button","oui.auth"]).directive("ouiCaptchaPage",function(){return{restrict:"AE",transclude:!0,scope:{},controller:["$scope","$attrs",function(a,b){a.pageTitle=b.pageTitle||"i18n:oui.captcha.pageTitle"}],templateUrl:"oui-layout/auth/captcha/captcha.tpl.html"}}).directive("ouiCaptchaPageForm",function(){return{require:"?^ouiCaptchaPage",restrict:"AE",transclude:!0,scope:{loginInputModel:"=?",loginInputName:"@",passwdInputModel:"=?",passwdInputName:"@",captchaInputModel:"=?",captchaInputName:"@",errorMsgModel:"=?",captchaUrl:"@",captchaUrlFn:"&",cancelAction:"&",submitAction:"&"},bindToController:!0,controllerAs:"formController",controller:["$scope","$element","$attrs","$ouiAuth","$filter","$ouiSimplePageService","$timeout","$q",function(b,c,d,e,f,g,h,i){var j=this;j.loginInputLabel=d.loginInputLabel||"i18n:oui.login.form.login",j.passwdInputLabel=d.passwdInputLabel||"i18n:oui.login.form.passwd",j.hasForgottenPasswd=a.isDefined(d.forgottenPasswd)&&"false"!==d.forgottenPasswd,j.forgottenPwd=function(){e.clearErrorMsg(),e.authState(e.AUTH_STATE_PWD)};var k=function(){return j.captchaUrl?-1!==j.captchaUrl.indexOf("?")?j.captchaUrl+"&_"+(new Date).getTime():j.captchaUrl+"?_"+(new Date).getTime():j.captchaUrlFn()};j.updateCaptchaImg=function(){j.captchaImgUrl=k()},j.updateCaptchaImg(),j.getErrorMsg=function(){return j.errorMsgModel?f("i18nOrText")(j.errorMsgModel):e.computeErrorMsg()},j.hasErrorMsg=function(){return!(!j.errorMsgModel&&!e.errorMsg())},j.onSubmit=function(){return e.clearErrorMsg(),j.loginInputModel&&j.passwdInputModel&&j.captchaInputModel?(j.loading=500,h(function(){j.loading&&(j.loading=!0)},j.loading),void i.when(j.submitAction()||!0).then(function(){j.loading=!1},function(){j.loading=!1})):(h(function(){e.errorMsg("i18n:oui.captcha.form.invalid")}),!1)},j.onCancel=function(){d.cancelAction?j.cancelAction():(e.clearErrorMsg(),e.authState(e.AUTH_STATE_KO))};var l=g.getWarningDisplayUpdateFn(c);b.$watch(j.getErrorMsg,function(a){a&&j.updateCaptchaImg(),h(function(){l(!!a)})}),h(function(){l(!!j.getErrorMsg())})}],templateUrl:"oui-layout/auth/captcha/captchaForm.tpl.html",replace:!0}})}(),function(){a.module("oui.layout.auth",["oui.layout.auth.login","oui.layout.auth.password","oui.layout.auth.sms","oui.layout.auth.captcha"])}(),function(){a.module("oui.layout.auth.login",["oui-templates-layout","oo.i18n","oo.locale","oui.layout.simplePage","oui.form.input","oui.button","oui.onoff","oui.auth"]).directive("ouiLoginPage",function(){return{restrict:"AE",transclude:!0,scope:{},controller:["$scope","$attrs",function(a,b){a.pageTitle=b.pageTitle||"i18n:oui.login.pageTitle"}],templateUrl:"oui-layout/auth/login/login.tpl.html"}}).directive("ouiLoginPageForm",function(){return{require:"?^ouiLoginPage",restrict:"AE",transclude:!0,scope:{loginInputModel:"=?",loginInputName:"@",passwdInputModel:"=?",passwdInputName:"@",errorMsgModel:"=?",submitAction:"&",keepAuthModel:"=?"},bindToController:!0,controllerAs:"formController",controller:["$scope","$element","$attrs","$ouiAuth","$filter","$ouiSimplePageService","$timeout","$i18n","$ooLocale","$q",function(b,c,d,e,f,g,h,i,j,k){var l=this;l.langInputLabel=d.langInputLabel||"i18n:oui.login.form.lang",l.loginInputLabel=d.loginInputLabel||"i18n:oui.login.form.login",l.passwdInputLabel=d.passwdInputLabel||"i18n:oui.login.form.passwd",l.hasDisplayLangSelector=a.isDefined(d.displayLangSelector)&&"false"!==d.displayLangSelector;var m=function(){for(var a=[],b=j.langs(),c=0;c<b.length;++c)a.push({lang:b[c],label:i.langName(b[c])});return a};l.lang=j.lang(),l.langs=m(),b.$on("$langChange",function(a,b){l.lang=b,l.langs=m()}),l.setLang=function(a){j.lang(a.lang)},l.hasForgottenPasswd=a.isDefined(d.forgottenPasswd)&&"false"!==d.forgottenPasswd,l.forgottenPwd=function(){e.clearErrorMsg(),e.authState(e.AUTH_STATE_PWD)},l.getErrorMsg=function(){return l.errorMsgModel?f("i18nOrText")(l.errorMsgModel):e.computeErrorMsg()},l.hasErrorMsg=function(){return!(!l.errorMsgModel&&!e.errorMsg())},l.onSubmit=function(){return e.clearErrorMsg(),l.loginInputModel&&l.passwdInputModel?(l.loading=500,h(function(){l.loading&&(l.loading=!0)},l.loading),void k.when(l.submitAction()||!0).then(function(){l.loading=!1},function(){l.loading=!1})):(h(function(){e.errorMsg("i18n:oui.login.form.invalid")}),!1)},l.canKeepAuth=a.isDefined(l.keepAuthModel),b.$watch(function(){return l.keepAuthModel},function(){l.canKeepAuth=a.isDefined(l.keepAuthModel)&&null!==l.keepAuthModel});var n=g.getWarningDisplayUpdateFn(c);b.$watch(l.getErrorMsg,function(a){h(function(){n(!!a)})}),h(function(){n(!!l.getErrorMsg())})}],templateUrl:"oui-layout/auth/login/loginForm.tpl.html",replace:!0}})}(),function(){a.module("oui.layout.auth.password",["oui-templates-layout","oo.i18n","oui.layout.simplePage","oui.form.input","oui.button","oui.auth"]).directive("ouiPasswordPage",function(){return{restrict:"AE",transclude:!0,scope:{},controller:["$scope","$attrs",function(a,b){a.pageTitle=b.pageTitle||"i18n:oui.password.pageTitle"}],templateUrl:"oui-layout/auth/password/password.tpl.html"}}).directive("ouiPasswordPageForm",function(){return{require:"?^ouiPasswordPage",restrict:"AE",transclude:!0,scope:{inputModel:"=?",inputName:"@",errorMsgModel:"=?",cancelAction:"&",submitAction:"&",loginAction:"&"},bindToController:!0,controllerAs:"formController",controller:["$scope","$element","$attrs","$ouiAuth","$filter","$ouiSimplePageService","$timeout","$q",function(a,b,c,d,e,f,g,h){var i=this;i.mode="login"===c.mode?"login":"email",i.inputLabel=c.inputLabel||"i18n:oui.password.form.input."+i.mode,i.getErrorMsg=function(){return i.errorMsgModel?e("i18nOrText")(i.errorMsgModel):d.computeErrorMsg()},i.hasErrorMsg=function(){return!(!i.errorMsgModel&&!d.errorMsg())},i.onSubmit=function(){return d.clearErrorMsg(),i.inputModel?(i.loading=500,g(function(){i.loading&&(i.loading=!0)},i.loading),void h.when(i.submitAction()||!0).then(function(){i.loading=!1},function(){i.loading=!1})):(g(function(){d.errorMsg("i18n:oui.password.form.invalid")}),!1)},i.onCancel=function(){c.cancelAction?i.cancelAction():(d.clearErrorMsg(),d.authState(d.AUTH_STATE_KO))},i.onLogin=function(){c.loginAction?i.loginAction():(d.clearErrorMsg(),d.authState(d.AUTH_STATE_KO))},i.isResultDisplay=function(){return d.authState()===d.AUTH_STATE_PWD_SENT};var j=f.getWarningDisplayUpdateFn(b);a.$watch(i.getErrorMsg,function(a){g(function(){j(!!a)})}),g(function(){j(!!i.getErrorMsg())})}],templateUrl:"oui-layout/auth/password/passwordForm.tpl.html",replace:!0}})}(),function(){a.module("oui.layout.auth.sms",["oui-templates-layout","oo.i18n","oui.layout.simplePage","oui.form.input","oui.button","oui.auth"]).directive("ouiSmsPage",function(){return{restrict:"AE",transclude:!0,scope:{},controller:["$scope","$attrs",function(a,b){a.pageTitle=b.pageTitle||"i18n:oui.sms.pageTitle"}],templateUrl:"oui-layout/auth/sms/sms.tpl.html"}}).directive("ouiSmsPageForm",function(){return{require:"?^ouiSmsPage",restrict:"AE",transclude:!0,scope:{codeInputModel:"=?",codeInputName:"@",errorMsgModel:"=?",cancelAction:"&",submitAction:"&"},bindToController:!0,controllerAs:"formController",controller:["$scope","$element","$attrs","$ouiAuth","$filter","$ouiSimplePageService","$timeout","$q",function(a,b,c,d,e,f,g,h){var i=this;i.codeInputLabel=c.codeInputLabel||"i18n:oui.sms.form.code",i.getErrorMsg=function(){return i.errorMsgModel?e("i18nOrText")(i.errorMsgModel):d.computeErrorMsg()},i.hasErrorMsg=function(){return!(!i.errorMsgModel&&!d.errorMsg())},i.onSubmit=function(){return d.clearErrorMsg(),i.codeInputModel?(i.loading=500,g(function(){i.loading&&(i.loading=!0)},i.loading),void h.when(i.submitAction()||!0).then(function(){i.loading=!1},function(){i.loading=!1})):(g(function(){d.errorMsg("i18n:oui.sms.form.invalid")}),!1)},i.onCancel=function(){c.cancelAction?i.cancelAction():(d.clearErrorMsg(),d.authState(d.AUTH_STATE_KO))};var j=f.getWarningDisplayUpdateFn(b);a.$watch(i.getErrorMsg,function(a){g(function(){j(!!a)})}),g(function(){j(!!i.getErrorMsg())})}],templateUrl:"oui-layout/auth/sms/smsForm.tpl.html",replace:!0}})}(),function(){a.module("oui.layout",["ngAnimate","oui.layout.simplePage","oui.layout.auth","oui.layout.application","oui.layout.main","oui.layout.page"])}(),function(a){a.module("oui.layout.main.dashboard",["oui-templates-layout","oui.router","oo.i18n"])}(a),function(a){function b(b,c,d){a.forEach(b,function(a){a[c]=d})}var c=!1,d={};a.module("oui.layout.main.dashboard").directive("ouiDashboard",["$ouiRouter",function(e){return{restrict:"AE",transclude:!0,scope:{header:"@",headerTpl:"@",content:"@",contentTpl:"@",footer:"@",footerTpl:"@",footerSecondary:"@",footerSecondaryTpl:"@",displayReloadButton:"@"},controller:["$scope","$element","$q","_$ouiLayoutService",function(c,f,g,h){c.workspaces=[],c.actions={},c.products=[],c.bottomButtons=[],c.tools=[],c.bottomTools=[],c.userMenu={},c.sidepanels=[];var i={},j={};h.registerCtrlInDom(f,this),this.footerSecondaryContainer=null;var k=function(a){var c,d=e.getNav().wsId,f=a.workspaces,g=a.sidepanels;if(!a.currentWs||a.currentWs.name!==d){if(d&&!(d in i))return e.goTo({wsId:null},!0),!1;b(f,"visible",!1),a.currentWs=i[d]||null,d&&(i[d].displayedOnce=!0,i[d].visible=!0)}if(a.currentWs&&a.currentSp)a.currentSp=null,b(g,"visible",!1);else if(!a.currentWs&&(c=e.getNav().spId,!a.currentSp||a.currentSp.name!==c)){if(c&&!(c in j))return e.goTo({spId:null},!0),!1;b(g,"visible",!1),a.currentSp=j[c]||null,c&&(j[c].visible=!0,j[c].displayedOnce=!0)}return!0};c.reloadWindow=function(){window.location.reload()},this.openWorkspace=c.openWorkspace=function(a,b){e.goTo({wsId:a,pageId:b})},this.closeWorkspace=c.closeWorkspace=function(){var a=c.currentWs&&f.find("[wsid="+c.currentWs.name+"] .oui-ws-container").data("$layoutController");a&&a.tryClose().then(function(){e.goTo({})})},c.openSidePanel=function(b,d){if(!j[b])throw"there is no sidepanel named '"+b+"'";var f=g.defer();return d=d||{},j[b].params=d,j[b].deferred=f,j[b].nav?e.goTo(a.extend({spId:b},d.navParams)):(a.forEach(c.sidepanels,function(a){a.visible=!1}),c.currentSp=j[b],c.currentSp.visible=!0),f.promise},this.getInheritedSidePanel=function(b){return j[b]&&!j[b].cfg.isolate?a.copy(j[b].cfg):void 0},c.closeSidePanel=function(b){var d,g,i=c.currentSp||null;i&&(d=i.name,g=i.params||{},f.find("[spid="+d+"] .oo-sp-container").data("$layoutController").tryClose().then(function(){h.broadcastSidepanelCloseEventsToScopes(f,null,d,b),g.onClose&&g.onClose(b),i.deferred&&i.deferred.resolve(b),c.currentSp.nav?e.goTo({}):(a.forEach(c.sidepanels,function(a){a.visible=!1}),c.currentSp=null)}))},this.openSidePanel=function(a){c.openSidePanel(a)},this.closeSidePanel=function(a){c.closeSidePanel(a)},this.closeWorkspace=function(){c.closeWorkspace()},this.setUserMenu=function(a){c.userMenuEl=a},this.addWorkspace=function(a){c.workspaces.push(a),a.name=a.name||"ws_"+c.sidepanels.length,i[a.name]=a},this.addSidepanel=function(b){var d=c.$new();a.extend(d,b),d.cfg=b,c.sidepanels.push(d),d.name=d.name||"sp_"+c.sidepanels.length,j[d.name]=d},c.$on("$ouiRouterNavChange",function(a){a.defaultPrevented||k(c)||a.preventDefault()}),c.updateFromRouter=function(){k(c),delete c.updateFromRouter},this.addDashboardAreaItem=function(a,b){d[a]||(d[a]=[]),d[a].push(b)}}],link:function(b,f){if(c)throw"There should not be more than one dashboard in your app";if(e.singleWorkspace())throw"There should not be a dashboard in a single workspace app.";c=!0,a.forEach(d,function(b,c){var e=f.find(".oo-db-"+c);a.forEach(b,function(a){e.append(a)}),d[c]=[]}),b.userMenuEl&&f.find(".oo-db-header").append(b.userMenuEl),b.updateFromRouter()},templateUrl:"oui-layout/main/dashboard/dashboard.dir._main.tpl.html",replace:!0}}])}(a),function(a){var b=["header","content","footer","footer-secondary"],c=new RegExp("^(:?"+b.join("|")+")$"),d=["openWorkspace","closeWorkspace","openSidePanel","closeSidePanel"];a.module("oui.layout.main.dashboard").directive("ouiDashboardItem",function(){return{require:"^ouiDashboard",restrict:"A",link:function(e,f,g,h){var i=g.ouiDashboardItem||"content";if(!i.match(c))throw"oui-dashboard-item must be one of '"+b.join("', '")+"'";a.forEach(d,function(a){e[a]||(e[a]=h[a])}),h.addDashboardAreaItem(i,f)}}})}(a),function(a){a.module("oui.layout.main.dashboard").directive("ouiDashboardSidepanel",function(){return{require:"^ouiDashboard",restrict:"AE",scope:{tpl:"@",visible:"=?",displayedOnce:"=?"},link:function(b,c,d,e){if(!b.tpl)throw"'tpl' attribute is mandatory";var f={};f.tpl=b.tpl,f.visible=!1,f.displayedOnce=!1,f.nav=!a.isDefined(d.nav)||"false"!==d.nav,f.isolate=a.isDefined(d.isolate)&&"false"!==d.isolate||!1,f.domConserve=a.isDefined(d.domConserve)&&"false"!==d.domConserve||!d.tpl,f.name=d.ouiDashboardSidepanel||d.name||null,e.addSidepanel(f)},replace:!1}})}(a),function(a){a.module("oui.layout.main.dashboard").directive("ouiDashboardWorkspace",function(){return{require:"^ouiDashboard",restrict:"AE",scope:{tpl:"@",visible:"=?",displayedOnce:"=?"},link:function(b,c,d,e){if(!b.tpl)throw"'tpl' attribute is mandatory";b.visible=!1,b.displayedOnce=!1,b.domConserve=a.isDefined(d.domConserve)&&"false"!==d.domConserve||!d.tpl,b.name=d.ouiDashboardWorkspace||d.name||null,e.addWorkspace(b)},replace:!1}})}(a),function(){var b=5,c=10,d=100;a.module("oui.layout.main",["oui.layout.main.dashboard","oui.layout.main.workspace","oui.layout.main.sidepanel","oui.layout.main.misc"]).factory("_$ouiLayoutService",["$q",function(e){var f=function(b,c,d,e){var f=!1;return b.each(function(){var b=$(this).scope(),g=[c],h=d&&d.call(this,this)||[];h=a.isArray(h)?h:[h],g.push.apply(g,h);var i=b.$broadcast.apply(b,g);return e&&e.push(i.promise||!0),i.defaultPrevented?(f=!0,!1):void 0}),!f},g=null;return g={registerCtrlInDom:function(a,b){a.data("$layoutController",b)},getSidepanelMaskZIndex:function(a){return(a.parents(".oui-sp-container").length+(a.is(".oui-sp-container")?1:0))*d+b},getSidepanelZIndex:function(a){return(a.parents(".oui-sp-container").length+(a.is(".oui-sp-container")?1:0))*d+c},isFirstLevelSidepanel:function(a){return 0===a.parent().closest(".oui-sp-container").length},getParentScope:function(a){var b=a.parent().closest(".oui-layout-elt");return b.length&&b.isolateScope()},getParentCtrl:function(a){var b=a.parent().closest(".oui-layout-elt");return!!b.length&&b.data("$layoutController")},getSidepanelCtrl:function(a,b){return a.find("[spid="+b+"] .oui-sp-container").data("$layoutController")},getWorkspaceId:function(a){return a.parent().closest(".oui-dashboard-workspace").attr("wsId")},getSidepanelId:function(a){return a.parent().closest(".oui-layout-sidepanel").attr("spId")},isSidepanelNav:function(a){return"true"===a.parent().closest(".oui-layout-sidepanel").attr("nav")},getPages:function(a,b,c){return b?$.merge(a.find("> .oui-layout-elt-content > .oo-layout-pages > [pageid="+c+"]"),a.find("> .oui-layout-elt-content > .oo-layout-pages > [pageid][pageid!="+c+"]")):a.find("> .oui-layout-elt-content > .oo-layout-pages > [pageid]")},getPageById:function(a,b){return a.find("> .oui-layout-elt-content > .oo-layout-pages > [pageid="+b+"]")},broadcastSidepanelCloseEventsToScopes:function(a,b,c,d){a.each(function(){var a=!$(this).attr("pageid")||$(this).attr("pageid")===b;$(this).scope().$broadcast("$layout-sidepanel-close",a,c,d),$(this).scope().$broadcast("$layout-sidepanel["+c+"]-close",a,d)})},tryClose:function(a,b){var c=[],d=function(){return $(this).attr("pageid")===b},h=g.getPages(a,!0,b);return f(h,"$layout-page-beforeexit",d,c)&&f(h,"$layout-element-beforeclose",d,c),e.all(c)},tryShowPage:function(a,b){var c=[],d=function(){return $(this).attr("pageid")===b},h=g.getPages(a,!0,b),i=g.getPageById(a,b);return f(i,"$layout-page-beforechange",null,c)&&f(h,"$layout-page-beforeexit",d,c),e.all(c)}}}])}(),function(){var b=["showPage","openWorkspace","closeWorkspace","openSidePanel","closeSidePanel"];a.module("oui.layout.main.misc",["oui.usermenu"]).directive("ouiLayoutUsermenu",function(){return{require:["^?ouiWorkspace","^?ouiDashboard"],restrict:"AE",link:function(a,b,c,d){for(var e=0;e<d.length;++e)if(d[e]){d[e].setUserMenu(b);break}}}}).directive("ouiLayoutMethods",function(){return{restrict:"AE",link:function(c,d){var e=d.closest("[oui-sidepanel],[oui-workspace],[oui-dashboard]").isolateScope();e&&a.forEach(b,function(a){e[a]&&(c[a]||(c[a]=e[a]))})}}})}(),function(){a.module("oui.layout.main.sidepanel",["oui-templates-layout","oo.i18n","oui.router"])}(),function(){var b=0,c="80em",d="104.4em",e="5em",f=function(a,b,f,g){var h=a.width(),i=parseFloat(b.css("font-size"),10);f=f||(g?d:c);var j=parseFloat(f,10),k=parseFloat(e,10);f&&-1!==f.indexOf("em")&&(j*=i),-1!==e.indexOf("em")&&(k*=i);var l=j;l>h-k&&(l=h-k),b.css("width",l)};a.module("oui.layout.main.sidepanel").directive("ouiSidepanel",["$ouiRouter",function(c){return{require:["?^ouiWorkspace","?^ouiDashboard"],restrict:"AE",transclude:!0,scope:{closeFn:"&close"},controller:["$scope","$element","$q","_$ouiLayoutService","$timeout","$animate",function(b,d,e,f,g,h){b.buttons=[],b.pages=[],b.sidepanels=[];var i={},j={},k=this,l=d.find(".oui-sp-main-mask").first();f.registerCtrlInDom(d,this);var m=f.getParentScope(d),n=f.getParentCtrl(d),o=f.isSidepanelNav(d);b.maskZindex=f.getSidepanelMaskZIndex(d);var p=f.isFirstLevelSidepanel(d),q=function(b){if(p&&o){k.navWsId=k.navWsId||f.getWorkspaceId(d);var e=c.getNav().wsId;if(!k.navWsId&&!e||k.navWsId&&e&&e===k.navWsId){k.navSpId=k.navSpId||f.getSidepanelId(d);var h=c.getNav().spId;if(h&&h===k.navSpId){var i=c.getNav().spPageId;if(!i&&b.pages.length)return g(function(){c.goTo({wsId:"=",pageId:"=",spId:"=",spPageId:b.pages[0].pageId},!0)}),!1;if(!b.currentPage||i!==b.currentPage.pageId)if(j[i])a.forEach(b.pages,function(a){a.selected=!1,a.domConserve||(a.masked=!1)}),j[i].selected=!0,j[i].displayedOnce=!0,b.currentPage=j[i];else if(i)return g(function(){c.goTo({wsId:"=",pageId:"=",spId:"=",spPageId:null},!0)}),!1}}}return!0};b.currentPage=null,b.handleButtonClick=function(a){b.showPage(a)},this.tryClose=function(){return f.tryClose(d,b.currentPage.pageId)},this.tryShowPage=function(){return f.tryShowPage(d,b.currentPage.pageId)},b.onClose=function(a){b.hasCloseAction?b.closeFn():n&&n.closeSidePanel(a)},b.toggleMask=function(a){a?h.removeClass(l,"ng-hide"):h.addClass(l,"ng-hide")},b.togglePageMask=function(a){b.currentPage&&(b.currentPage.masked=a)},b.close=function(a){b.onClose(a)},b.showPage=function(d,e){if("string"==typeof d&&!j[name])throw"there is no page named '"+name+"'";k.tryShowPage().then(function(){"string"==typeof d&&(d=j[d]),p?c.goTo(a.extend({wsId:"=",pageId:"=",spId:"=",spPageId:d.pageId},e)):(a.forEach(b.pages,function(a){a.selected=!1,a.domConserve||(a.masked=!1)}),d.selected=!0,d.displayedOnce=!0,b.currentPage=d)})},b.openSidePanel=function(c,d){if(!i[c]){var f=n.getInheritedSidePanel(c);f&&k.addSidepanel(f)}if(!i[c])throw"there is no sidepanel named '"+c+"'";var g=e.defer();return d=d||{},i[c].params=d,i[c].deferred=g,a.forEach(b.sidepanels,function(a){a.visible=!1}),b.currentSp=i[c],b.currentSp.visible=!0,g.promise},this.getInheritedSidePanel=function(b){return i[b]&&!i[b].cfg.isolate?a.copy(i[b].cfg):n.getInheritedSidePanel(b)},b.closeSidePanel=function(c){b.currentSp&&f.getSidepanelCtrl(d,b.currentSp.name).tryClose().then(function(){var e=f.getPages(d,!0,b.currentPage.pageId);f.broadcastSidepanelCloseEventsToScopes(e,b.currentPage.pageId,b.currentSp.name,c),b.currentSp.params&&b.currentSp.params.onClose&&b.currentSp.params.onClose(c),b.currentSp.deferred&&b.currentSp.deferred.resolve(c),a.forEach(b.sidepanels,function(a){a.visible=!1}),b.currentSp=null})},b.getIconClass=function(a){return a.iconName?"icon-"+a.iconName:""},this.openSidePanel=function(a){b.openSidePanel(a)},this.closeSidePanel=function(a){b.closeSidePanel(a)},this.showPage=function(a,c){b.showPage(a,c)},this.toggleMask=b.toggleMask,this.togglePageMask=b.togglePageMask,this.addPage=function(a){a.pageId=a.pageId||"p_"+(b.pages.length+1),j[a.pageId]=a,b.pages.push(a),(a.icon||a.iconName)&&b.buttons.push(a),p&&o||1!==b.pages.length||(b.currentPage=a,a.selected=!0)},this.addSidepanel=function(c){var e=b.$new();a.extend(e,c),e.cfg=c,b.sidepanels.push(e),e.zindex=f.getSidepanelZIndex(d),e.name=e.name||"sp_"+b.sidepanels.length,i[e.name]=e},p&&b.$on("$ouiRouterNavChange",function(a){a.defaultPrevented||q(b)||a.preventDefault()}),b.updateFromRouter=function(){p&&g(function(){q(b)}),delete b.updateFromRouter},b.buttonHasText=function(a){return a.name||a.i18nName},b.getSidePanelParams=function(b,c){var d=m&&m.currentSp;return d&&d.params&&d.params.params?b?a.isDefined(d.params.params[b])?d.params.params[b]:c:d.params.params:c},b.getPageContext=function(){return b.currentPage.context=b.currentPage.context||{},b.currentPage.context}}],link:function(a,c,d){a.parentElt=c.parents(".oui-ws-container, .oui-db-container").first(),f(a.parentElt,c,d.maxWidth,!1),a.parentElt.on("resize",function(){f(a.parentElt,c,a.currentPage&&a.currentPage.maxWidth||d.maxWidth,!(!a.currentPage||!a.currentPage.sideHelp))}),a.$watch("currentPage",function(){f(a.parentElt,c,a.currentPage&&a.currentPage.maxWidth||d.maxWidth,!(!a.currentPage||!a.currentPage.sideHelp))}),a.name=d.ouiSidepanel||"sp_"+b++,a.id=d.sidepanelId||a.name+"-sidepanel",a.hasCloseAction=!!d.close,a.updateFromRouter()},templateUrl:"oui-layout/main/sidepanel/sidepanel.dir._main.tpl.html",replace:!0}}])}(),function(){var b=["showPage","openSidePanel","closeSidePanel"];a.module("oui.layout.main.sidepanel").directive("ouiSidepanelPage",function(){return{require:"^ouiSidepanel",restrict:"AE",scope:{name:"@",icon:"@",iconName:"@",tpl:"@",context:"=?"},link:function(c,d,e,f){if(!c.tpl)throw"'tpl' attribute is mandatory";c.maxWidth=e.maxWidth,c.pageId=e.ouiSidepanelPage||e.pageId||null,c.sideHelp=a.isDefined(e.sideHelp)&&"false"!==e.sideHelp,c.domConserve=a.isDefined(e.domConserve)&&"false"!==e.domConserve||!e.tpl,c.sidepanelCtrl=f,a.forEach(b,function(a){c[a]||(c[a]=f[a])}),f.addPage(c)},replace:!1}}).directive("ouiSidepanelPageBody",function(){return{restrict:"AE",scope:{loading:"=?"},transclude:!0,template:"<div class=\"oo-sp-page-inner\" ng-class=\"{'oui-loading':loading,'oui-loaded':!loading}\" ng-transclude></div>",replace:!0}}).directive("ouiSidepanelPageBodyLoading",function(){return{restrict:"AE",transclude:!0,template:'<div class="oui-sp-page-body-loading" ng-transclude></div>',replace:!0}}).directive("ouiSidepanelPageBodyLoaded",function(){return{restrict:"AE",transclude:!0,template:'<div class="oui-sp-page-body-loaded" ng-transclude></div>',replace:!0}}).directive("ouiSidepanelPageLoading",function(){return{restrict:"AE",scope:{loadingColor:"@"},template:['<div class="oo-sp-page-loading">','<div class="oo-sp-page-loading-inner">','<div oui-loading-img color="{{loadingColor}}" size="16"></div><span>{{\'common.loading_long_susp\' | i18n}}</span>',"</div>","</div>"].join(""),replace:!0}}).directive("ouiSidepanelPageHeader",function(){return{restrict:"AE",transclude:!0,link:function(a,b){b.addClass("oo-sp-content-north")},template:'<div class="oo-sp-header"><div class="oo-sp-header-inner" ng-transclude></div></div>',replace:!1}}).directive("ouiSidepanelPageHeaderTitle",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-title" ng-transclude></div>',replace:!0}}).directive("ouiSidepanelPageContent",function(){return{restrict:"AE",transclude:!0,controller:["$scope","$element","$timeout",function(a,b,c){var d,e=0,f=function(){var a=b.height();if(a&&e!==a){e=a;var d=parseFloat(b.css("font-size"),10),f=0,g=0;b.siblings(".oo-sp-content-north").each(function(){var a=$(this).height();$(this).css("top",f/d+"em"),f+=a}),$(b.siblings(".oo-sp-content-south").get().reverse()).each(function(){var a=$(this).height();$(this).css("bottom",g/d+"em"),g+=a}),b.css("padding-top",f/d+"em"),b.css("padding-bottom",g/d+"em"),c(function(){b.closest(".oui-sp-page-body-loaded,.oui-sp-page-body-loading,.oo-sp-page-inner").addClass("oui-resized"),b.closest(".oui-sp-page-body-loaded").length&&b.closest(".oo-sp-page-inner").addClass("oui-resized-loaded")})}},g=function(){clearTimeout(d),d=setTimeout(f,100)};$(window).on("resize.sidePanelContent",g);var h=a.$on("$destroy",function(){$(window).off("resize.sidePanelContent",g),h()});c(f)}],link:function(a,b){b.addClass("oo-sp-content-center")},template:'<div class="oo-sp-content-center-inner" ng-transclude></div>',replace:!1}}).directive("ouiSidepanelPageFooter",function(){return{restrict:"AE",transclude:!0,link:function(a,b){b.addClass("oo-sp-content-south")},template:'<div class="oo-sp-footer"><div class="oo-sp-footer-inner" ng-transclude></div></div>',replace:!1}}).directive("ouiSidepanelPageHeaderActions",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-actions" ng-transclude></div>',replace:!0}}).directive("ouiSidepanelPageFooterActions",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-actions" ng-transclude></div>',replace:!0}})}(),function(){a.module("oui.layout.main.sidepanel").directive("ouiSidepanelPageInfos",function(){return{require:"^ouiSidepanel",restrict:"AE",transclude:!0,scope:{},controller:["$scope","$element","_$ouiLayoutService",function(a,b,c){a.expandedPanel=null,this.setExpandedPanel=function(d){a.expandedPanel=d,a.$watch(function(){return a.expandedPanel.visible},function(d){b.find(".oo-sp-infos-summary").css("z-index",d?c.getSidepanelMaskZIndex(b)+1:""),a.spCtrl.togglePageMask(d)})},this.isExpanded=function(){return a.expandedPanel&&a.expandedPanel.visible},a.toggleExpandedPanel=function(b){a.expandedPanel&&a.spCtrl&&("undefined"==typeof b&&(b=!a.expandedPanel.visible),a.expandedPanel.visible=b)},this.toggleExpandedPanel=a.toggleExpandedPanel,a.$parent.toggleExpandedPanel=a.toggleExpandedPanel}],link:function(a,b,c,d){b.addClass("oo-sp-content-north"),"undefined"!=typeof c.small&&"false"!==c.small&&b.find(".oo-sp-infos").addClass("oo-sp-infos-small"),a.spCtrl=d},template:'<div class="oo-sp-infos"><div class="oo-sp-infos-inner" ng-transclude></div></div>',replace:!1}}).directive("ouiSidepanelPageInfosSummary",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-sp-infos-summary" ng-transclude></div>',replace:!0}}).directive("ouiSidepanelPageInfosSummaryCenter",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-sp-infos-summary-center"><div class="oo-sp-infos-summary-center-inner" ng-transclude></div></div>',replace:!0}}).directive("ouiSidepanelPageInfosSummaryIcoTop",function(){return{require:"^ouiSidepanelPageInfos",restrict:"AE",transclude:!0,scope:{cpt:"=?",iconName:"@"},controller:["$scope",function(a){a.getIconClass=function(){return a.iconName?"icon-"+a.iconName:""}}],link:function(a,b,c,d){a.expandButton="undefined"!=typeof c.expandButton&&"false"!==c.expandButton,a.isExpanded=d.isExpanded,a.toggleExpandedPanel=d.toggleExpandedPanel},templateUrl:"oui-layout/main/sidepanel/sidepanel.dir.pageInfosSummaryIcoTop.tpl.html",replace:!0}}).directive("ouiSidepanelPageInfosDesc",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-sp-infos-desc"><div class="oo-sp-infos-desc-inner" ng-transclude></div></div>',replace:!0}}).directive("ouiSidepanelPageInfosExpanded",function(){return{require:"^ouiSidepanelPageInfos",restrict:"AE",transclude:!0,scope:{},controller:["$scope","$element","$ooConvert","_$ouiLayoutService","$timeout",function(a,b,c,d,e){var f,g=2,h=function(){var a=b.offset().top,d=b.closest(".oo-sp-container").height(),e=c.pxToEm(d-a,b);b.css("height",e-g+"em")},i=function(){clearTimeout(f),f=setTimeout(h,100)};$(window).on("resize.sidePanelInfos",i);var j=a.$on("$destroy",function(){$(window).off("resize.sidePanelInfos",i),j()});e(h),a.$watch(function(){return b.is(":visible")},function(){h()}),a.$watch("visible",function(a){a&&setTimeout(function(){b.focus()},100)}),b.css("z-index",d.getSidepanelMaskZIndex(b)+1)}],link:function(a,b,c,d){a.visible=!1,"undefined"!=typeof c.small&&"false"!==c.small&&b.find(".oo-sp-infos").addClass("oo-sp-infos-small"),b.keyup(function(b){27===b.keyCode&&a.$apply(function(){a.visible=!1})}),d.setExpandedPanel(a)},templateUrl:"oui-layout/main/sidepanel/sidepanel.dir.pageInfosExpanded.tpl.html",replace:!0}})}(),function(){a.module("oui.layout.main.sidepanel").directive("ouiSidepanelSidepanel",function(){return{require:"^ouiSidepanel",restrict:"AE",scope:{tpl:"@",visible:"=?",displayedOnce:"=?"},link:function(b,c,d,e){if(!b.tpl)throw"'tpl' attribute is mandatory";var f={};f.tpl=b.tpl,f.visible=!1,f.displayedOnce=!1,f.isolate=a.isDefined(d.isolate)&&"false"!==d.isolate||!1,f.domConserve=a.isDefined(d.domConserve)&&"false"!==d.domConserve||!d.tpl,f.name=d.ouiSidepanelSidepanel||d.name||null,e.addSidepanel(f)},replace:!1}})}(),function(){a.module("oui.layout.main.workspace",["oui-templates-layout","oo.i18n","oui.router"])}(),function(){var b=0;a.module("oui.layout.main.workspace").directive("ouiWorkspace",["$ouiRouter",function(c){return{require:"?^ouiDashboard",restrict:"AE",transclude:!0,scope:{dashboardAction:"&",title:"@ouiTitle"},controller:["$scope","$element","$q","_$ouiLayoutService","$timeout",function(b,d,e,f,g){b.buttons=[],b.pages=[];var h={};b.userMenu={},b.sidepanels=[];var i,j={},k=this;f.registerCtrlInDom(d,this);var l=f.getParentCtrl(d);b.maskZindex=f.getSidepanelMaskZIndex(d);var m=function(b){k.navWsId=k.navWsId||f.getWorkspaceId(d);var e=c.getNav().wsId;if(!k.navWsId&&!e||k.navWsId&&e&&e===k.navWsId){var m=c.getNav().pageId;if(!m&&b.pages.length)return g(function(){c.goTo({wsId:"=",pageId:b.pages[0].pageId},!0)}),!1;if(!b.currentPage||m!==b.currentPage.pageId)if(h[m])a.forEach(b.pages,function(a){a.selected=!1}),h[m].selected=!0,h[m].displayedOnce=!0,b.currentPage=h[m];else if(m)return g(function(){c.goTo({wsId:"="},!0)}),!1;var n=c.getNav().spId;if(!b.currentSp||b.currentSp.name!==n){if(!j[n]){var o=l&&l.getInheritedSidePanel(n);o&&k.addSidepanel(o)}if(j[n]){for(b.currentSp=j[n],i=0;i<b.sidepanels.length;++i)b.sidepanels[i].visible=b.sidepanels[i].name===n;j[n].displayedOnce=!0}else{if(n)return g(function(){c.goTo({wsId:"=",pageId:"="},!0)}),!1;for(b.currentSp=null,i=0;i<b.sidepanels.length;++i)b.sidepanels[i].visible=!1}}}return!0};b.currentPage=null,b.dashboardClick=function(){return b.hasDashboardAction?void b.dashboardAction():void(b.closeWorkspace?b.closeWorkspace():k.tryClose().then(function(){window.location.reload()
}))},this.tryClose=function(){return f.tryClose(d,b.currentPage.pageId)},this.tryShowPage=function(){return f.tryShowPage(d,b.currentPage.pageId)},b.handleButtonClick=function(a){a.hasAction?a.sidepanel?b.openSidePanel(a.sidepanel,{params:a.getParams(),navParams:a.getNavParams()}):a.action(a):b.showPage(a)},b.showPage=function(b,d){if("string"==typeof b&&!h[name])throw"there is no page named '"+name+"'";k.tryShowPage().then(function(){"string"==typeof b&&(b=h[b]),c.goTo(a.extend({wsId:"=",pageId:b.pageId},d))})},b.openSidePanel=function(d,f){if(!j[d]){var g=l&&l.getInheritedSidePanel(d);g&&k.addSidepanel(g)}if(!j[d])throw"there is no sidepanel named '"+d+"'";var h=e.defer();return f=f||{},j[d].params=f,j[d].deferred=h,j[d].nav?c.goTo(a.extend({wsId:"=",pageId:"=",spId:d},f.navParams)):(a.forEach(b.sidepanels,function(a){a.visible=!1}),b.currentSp=j[d],b.currentSp.visible=!0),h.promise},this.getInheritedSidePanel=function(b){return j[b]&&!j[b].cfg.isolate?a.copy(j[b].cfg):l&&l.getInheritedSidePanel(b)},b.closeSidePanel=function(e){b.currentSp&&f.getSidepanelCtrl(d,b.currentSp.name).tryClose().then(function(){var g=f.getPages(d,!0,b.currentPage.pageId);f.broadcastSidepanelCloseEventsToScopes(g,b.currentPage.pageId,b.currentSp.name,e),b.currentSp.params&&b.currentSp.params.onClose&&b.currentSp.params.onClose(e),b.currentSp.deferred&&b.currentSp.deferred.resolve(e),b.currentSp.nav?c.goTo({wsId:"=",pageId:"="}):(a.forEach(b.sidepanels,function(a){a.visible=!1}),b.currentSp=null)})},b.getIconClass=function(a){return a.iconName?"icon-"+a.iconName:""},this.openSidePanel=function(a){b.openSidePanel(a)},this.closeSidePanel=function(a){b.closeSidePanel(a)},this.showPage=function(a,c){b.showPage(a,c)},this.addPage=function(a){a.pageId=a.pageId||"p_"+(b.pages.length+1),h[a.pageId]=a;var c=k.navWsId||d.parents(".oui-dashboard-workspace").attr("wsId")||"ws";a.buttonId=c+"_"+a.pageId+"_button",b.pages.push(a),(a.icon||a.iconName)&&b.buttons.push(a)},this.addAction=function(a){a.hasAction=!0,b.buttons.push(a)},this.setUserMenu=function(a){b.userMenuEl=a},this.addSidepanel=function(c){var e=b.$new();a.extend(e,c),e.cfg=c,b.sidepanels.push(e),e.zindex=f.getSidepanelZIndex(d),e.name=e.name||"sp_"+b.sidepanels.length,j[e.name]=e},b.$on("$ouiRouterNavChange",function(a){a.defaultPrevented||m(b)||a.preventDefault()}),b.updateFromRouter=function(){g(function(){m(b)}),delete b.updateFromRouter},b.buttonHasText=function(a){return!!a.name}}],link:function(d,e,f,g){if(!g&&!c.singleWorkspace())throw"There should be a dashboard in a multi workspace app.";d.dashboardButton=!a.isDefined(f.dashboardButton)||"false"!==f.dashboardButton,d.name=f.ouiWorkspace||"ws_"+b++,d.id=f.workspaceId||d.name+"-workspace",d.hasDashboardAction=!!f.dashboardAction,g&&(d.closeWorkspace=g.closeWorkspace),d.userMenuEl&&e.find(".oo-ws-topbar-inner").append(d.userMenuEl),d.updateFromRouter()},templateUrl:"oui-layout/main/workspace/workspace.dir._main.tpl.html",replace:!0}}])}(),function(){a.module("oui.layout.main.workspace").directive("ouiWorkspaceAction",function(){return{require:"^ouiWorkspace",restrict:"AE",scope:{name:"@",icon:"@",tooltip:"@",iconName:"@",sidepanel:"@",sidepanelParams:"=?",sidepanelParamsFn:"&",sidepanelNavParams:"=?",sidepanelNavParamsFn:"&",action:"&"},controller:["$scope",function(a){a.getParams=function(){return a.sidepanelParams||a.sidepanelParamsFn()},a.getNavParams=function(){return a.sidepanelNavParams||a.sidepanelNavParamsFn()}}],link:function(a,b,c,d){d.addAction(a)}}})}(),function(){var b=["showPage","openSidePanel","closeSidePanel"];a.module("oui.layout.main.workspace").directive("ouiWorkspacePage",function(){return{require:"^ouiWorkspace",restrict:"AE",scope:{name:"@",tooltip:"@",icon:"@",iconName:"@",tpl:"@"},link:function(c,d,e,f){if(!c.tpl)throw"'tpl' attribute is mandatory";c.pageId=e.ouiWorkspacePage||e.pageId||null,c.domConserve=a.isDefined(e.domConserve)&&"false"!==e.domConserve||!e.tpl,a.forEach(b,function(a){c[a]||(c[a]=f[a])}),f.addPage(c)},replace:!1}})}(),function(){a.module("oui.layout.main.workspace").directive("ouiWorkspaceSidepanel",function(){return{require:"^ouiWorkspace",restrict:"AE",scope:{tpl:"@",visible:"=?",displayedOnce:"=?"},link:function(b,c,d,e){if(!b.tpl)throw"'tpl' attribute is mandatory";var f={};f.tpl=b.tpl,f.visible=!1,f.displayedOnce=!1,f.nav=!a.isDefined(d.nav)||"false"!==d.nav,f.isolate=a.isDefined(d.isolate)&&"false"!==d.isolate||!1,f.domConserve=a.isDefined(d.domConserve)&&"false"!==d.domConserve||!d.tpl,f.name=d.ouiWorkspaceSidepanel||d.name||null,e.addSidepanel(f)},replace:!1}})}(),function(){a.module("oui.layout.page",["oui-templates-layout","oo.i18n"]).directive("ouiPageBody",function(){return{restrict:"AE",transclude:!0,template:'<div class="oo-page-body" ng-transclude></div>',replace:!0}}).directive("ouiPageBodyBlock",function(){return{restrict:"AE",transclude:!0,templateUrl:"oui-layout/page/pageBodyBlock.tpl.html",replace:!0,scope:{title:"@ouiTitle",filled:"@ouiFilled",collapsible:"@"},controller:["$scope","$element","$attrs","$parse",function(a,b,c,d){var e=c.collapsed&&d(c.collapsed);e&&a.$$prevSibling&&a.$watch(function(){return e(a.$$prevSibling)},function(b){a.collapsed=b}),a.collapseToggle=function(){a.collapsed=!a.collapsed,e&&a.$$prevSibling&&e.assign&&e.assign(a.$$prevSibling,a.collapsed)}}],controllerAs:"ctrl"}})}(),function(){var b=5;a.module("oui.layout.simplePage",["oui-templates-layout","oo.i18n","oo.convert"]).directive("ouiSimplePage",function(){return{restrict:"AE",transclude:!0,scope:{pageTitle:"@"},controller:["$scope","$compile","$templateCache",function(a,b,c){this.setFooter=function(d){a.footerData={},a.footerData.el=d.el,d.tpl&&(a.footerData.tpl=b(c.get(d.tpl)))}}],link:function(a,b){if(a.footerData){var c=b.find(".oo-simple-footer");a.footerData.tpl?c.html(a.footerData.tpl(a)):c.append(a.footerData.el)}},templateUrl:"oui-layout/simple/simplePage.tpl.html",replace:!0}}).directive("ouiSimplePageFooter",function(){return{require:"^ouiSimplePage",restrict:"AE",link:function(a,b,c,d){d.setFooter({el:b,tpl:c.ouiSimplePageFooter||null})}}}).factory("$ouiSimplePageService",["$ooConvert",function(a){var c={};return c.getWarningDisplayUpdateFn=function(c){var d,e,f,g,h=null,i=null;return d=function(){return h=h||c.find(".oo-simple-warning")},e=function(){return i=i||d()&&d().find(".oo-arrow")},f=function(){var c=d(),f=e(),g=c.parent().width(),h=c.width(),i=c.height()+f[0].offsetHeight,j=f[0].offsetWidth;c.css("top","-"+a.pxToEm(i+b,c)+"em").css("left",a.pxToEm((g-h)/2,c)+"em"),f.css("left",a.pxToEm(h/2-j/2,f)+"em")},g=function(a){var b=d();a?(f(),b.removeClass("oo-hidden")):b.addClass("oo-hidden")}},c}])}(),function(a){a.module("oui-templates-layout",["oui-layout/application/application.tpl.html","oui-layout/auth/captcha/captcha.tpl.html","oui-layout/auth/captcha/captchaForm.tpl.html","oui-layout/auth/login/login.tpl.html","oui-layout/auth/login/loginForm.tpl.html","oui-layout/auth/password/password.tpl.html","oui-layout/auth/password/passwordForm.tpl.html","oui-layout/auth/sms/sms.tpl.html","oui-layout/auth/sms/smsForm.tpl.html","oui-layout/main/dashboard/dashboard.dir._main.tpl.html","oui-layout/main/sidepanel/sidepanel.dir._main.tpl.html","oui-layout/main/sidepanel/sidepanel.dir.pageInfosExpanded.tpl.html","oui-layout/main/sidepanel/sidepanel.dir.pageInfosSummaryIcoTop.tpl.html","oui-layout/main/workspace/workspace.dir._main.tpl.html","oui-layout/page/pageBodyBlock.tpl.html","oui-layout/simple/simplePage.tpl.html"]),a.module("oui-layout/application/application.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/application/application.tpl.html",'<div class="oo-app-container" style="height: 100%;">\n	<div ng-show="false" ng-transclude></div>\n	<div ng-repeat="page in pages | filter:isVisible"\n		class="oui-application-step"\n		ng-class="getClass(page)"\n		style="height: 100%;">\n		<div ng-include="page.tpl" style="height: 100%;"></div>\n	</div>\n</div>')}]),a.module("oui-layout/auth/captcha/captcha.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/captcha/captcha.tpl.html",'<div oui-simple-page class="oo-captcha" style="height:100%;" page-title="{{pageTitle | i18nOrText}}">\n	<div class="oo-logo"></div>\n	<div class="oo-main-icon icon-avatar"></div>\n	<div ng-transclude></div>\n</div>')}]),a.module("oui-layout/auth/captcha/captchaForm.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/captcha/captchaForm.tpl.html",'<div class="oo-captcha-form">\n	<div class="oo-captcha-form-content">\n		<div class="oo-simple-warning oo-captcha-warning">\n			<div class="oo-simple-warning-inner">\n				<div class="oo-simple-warning-inner-inner">\n					<div class="oo-icon icon-exclamation"></div>\n					<div class="oo-text">{{formController.getErrorMsg() | i18nOrText}}</div>\n				</div>\n			</div>\n			<div class="oo-arrow"></div>\n		</div>\n\n		<div class="oo-captcha-form-credentials">\n			<div oui-form-field-container>\n				<div oui-form-field-label="{{formController.loginInputLabel}}"></div>\n				<div oui-form-field-value-multiple>\n					<input type="text"\n						ng-model="formController.loginInputModel"\n						name="{{formController.loginInputName}}"\n						autofillable>\n				</div>\n			</div>\n			<div oui-form-field-container>\n				<div oui-form-field-label="{{formController.passwdInputLabel}}"></div>\n				<div oui-form-field-value-multiple>\n					<input type="password"\n						ng-model="formController.passwdInputModel"\n						name="{{formController.passwdInputName}}"\n						autofillable>\n					<div ng-if="hasForgottenPasswd"\n						class="oo-login-pwd-forgotten"\n						ng-click="formController.forgottenPwd()">{{\'oui.login.form.passwd.forgot.short\' | i18n}}</div>\n				</div>\n			</div>\n		</div>\n\n		<div class="oo-captcha-form-captcha">\n			<i class="icon-update2" ng-click="formController.updateCaptchaImg()"></i>\n			<div class="oo-captcha-img">\n				<img ng-src="{{formController.captchaImgUrl}}">\n			</div>\n			<div class="oo-desc">{{\'oui.captcha.form.desc\' | i18n}}</div>\n			<div oui-form-field-container>\n				<div oui-form-field-value-multiple>\n					<input type="text"\n						ng-model="formController.captchaInputModel"\n						name="{{formController.captchaInputName}}">\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="oo-auth-form-footer">\n		<button class="oo-form-button oo-auth-form-button greyscale"\n			ng-click="formController.onCancel()">{{\'common.cancel\' | i18n}}</button>\n		<button class="oo-form-button oo-auth-form-button"\n			type="submit"\n			oui-button-loading="loading === true"\n			ng-click="formController.onSubmit()">{{\'common.submit\' | i18n}}</button>\n	</div>\n	<div ng-show="formController.loading" class="oui-layout-auth-loading-mask"></div>\n</div>\n')}]),a.module("oui-layout/auth/login/login.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/login/login.tpl.html",'<div oui-simple-page class="oo-login" style="height:100%;" page-title="{{pageTitle | i18nOrText}}">\n	<div class="oo-logo"></div>\n	<div class="oo-main-icon icon-avatar"></div>\n	<div ng-transclude></div>\n</div>')}]),a.module("oui-layout/auth/login/loginForm.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/login/loginForm.tpl.html",'<div class="oo-login-form">\n	<div class="oo-simple-warning oo-login-warning" class="oo-hidden">\n		<div class="oo-simple-warning-inner">\n			<div class="oo-simple-warning-inner-inner">\n				<div class="oo-icon icon-exclamation"></div>\n				<div class="oo-text">{{formController.getErrorMsg()}}</div>\n			</div>\n		</div>\n		<div class="oo-arrow"></div>\n	</div>\n	<div oui-form-field-container ng-show=\'formController.hasDisplayLangSelector\'>\n		<div oui-form-field-label="{{formController.langInputLabel}}"></div>\n		<div oui-form-field-value-multiple>\n			<select ng-model="formController.lang"\n				ng-options="l.lang as l.label for l in langs"\n				ng-change="formController.setLang(this)"></select>\n		</div>\n	</div>\n	<div oui-form-field-container>\n		<div oui-form-field-label="{{formController.loginInputLabel}}"></div>\n		<div oui-form-field-value-multiple>\n			<input type="text"\n				ng-model="formController.loginInputModel"\n				name="{{formController.loginInputName}}"\n				autofillable>\n		</div>\n	</div>\n	<div oui-form-field-container>\n		<div oui-form-field-label="{{formController.passwdInputLabel}}"></div>\n		<div oui-form-field-value-multiple>\n			<input type="password"\n				ng-model="formController.passwdInputModel"\n				name="{{formController.passwdInputName}}"\n				autofillable>\n			<div ng-if="formController.hasForgottenPasswd"\n				class="oo-login-pwd-forgotten"\n				ng-click="formController.forgottenPwd()">{{\'oui.login.form.passwd.forgot.short\' | i18n}}</div>\n		</div>\n	</div>\n	<div class="oo-auth-form-footer">\n		<div ng-show=\'formController.canKeepAuth\' oui-onoff="formController.keepAuthModel" label="i18n:oui.login.form.passwd.keepauth"></div>\n		<div class="oo-empty"></div>\n		<button class="oo-form-button oo-auth-form-button"\n			type="submit"\n			oui-button-loading="formController.loading === true"\n			ng-click="formController.onSubmit()">{{\'common.submit\' | i18n}}</button>\n	</div>\n	<div ng-show="formController.loading" class="oui-layout-auth-loading-mask"></div>\n</div>\n')}]),a.module("oui-layout/auth/password/password.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/password/password.tpl.html",'<div oui-simple-page class="oo-password" style="height:100%;" page-title="{{pageTitle | i18nOrText}}">\n	<div class="oo-main-icon icon-password"></div>\n	<div ng-transclude></div>\n</div>')}]),a.module("oui-layout/auth/password/passwordForm.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/password/passwordForm.tpl.html",'<div>\n	<div class="oo-password-form" ng-show="!formController.isResultDisplay()">\n		<div class="oo-simple-warning oo-password-warning" ng-show="formController.hasErrorMsg()">\n			<div class="oo-simple-warning-inner">\n				<div class="oo-simple-warning-inner-inner">\n					<div class="oo-icon icon-exclamation"></div>\n					<div class="oo-text">{{formController.getErrorMsg() | i18nOrText}}</div>\n				</div>\n			</div>\n			<div class="oo-arrow"></div>\n		</div>\n\n\n		<div class="oo-desc">{{\'oui.password.form.desc.\'+formController.mode | i18n}}</div>\n		<div oui-form-field-container>\n			<div oui-form-field-label="{{formController.inputLabel}}"></div>\n			<div oui-form-field-value-multiple>\n				<input type="text"\n					ng-model="formController.inputModel"\n					name="{{formController.inputName}}">\n			</div>\n		</div>\n		<div class="oo-auth-form-footer">\n			<button class="oo-form-button oo-auth-form-button greyscale"\n				ng-click="formController.onCancel()">{{\'common.cancel\' | i18n}}</button>\n			<button class="oo-form-button oo-auth-form-button"\n				type="submit"\n				oui-button-loading="formController.loading === true"\n				ng-click="formController.onSubmit()">{{\'common.submit\' | i18n}}</button>\n		</div>\n	</div>\n	<div class="oo-password-form-result" ng-show="formController.isResultDisplay()">\n		<div class="oo-desc">{{\'oui.password.result.desc.\'+formController.mode | i18n}}</div>\n\n		<div class="oo-auth-form-footer">\n			<button class="oo-form-button oo-auth-form-button"\n				ng-click="formController.onLogin()">{{\'oui.password.button.login\' | i18n}}</button>\n		</div>\n	</div>\n	<div ng-show="formController.loading" class="oui-layout-auth-loading-mask"></div>\n</div>\n')}]),a.module("oui-layout/auth/sms/sms.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/sms/sms.tpl.html",'<div oui-simple-page class="oo-sms" style="height:100%;" page-title="{{pageTitle | i18nOrText}}">\n	<div class="oo-main-icon icon-sms"></div>\n	<div ng-transclude></div>\n</div>')}]),a.module("oui-layout/auth/sms/smsForm.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/auth/sms/smsForm.tpl.html",'<div class="oo-sms-form">\n	<div class="oo-simple-warning oo-sms-warning" ng-show="formController.hasErrorMsg()">\n		<div class="oo-simple-warning-inner">\n			<div class="oo-simple-warning-inner-inner">\n				<div class="oo-icon icon-exclamation"></div>\n				<div class="oo-text">{{formController.getErrorMsg() | i18nOrText}}</div>\n			</div>\n		</div>\n		<div class="oo-arrow"></div>\n	</div>\n\n\n	<div class="oo-desc">{{\'oui.sms.form.desc\' | i18n}}</div>\n	<div oui-form-field-container>\n		<div oui-form-field-label="{{formController.codeInputLabel}}"></div>\n		<div oui-form-field-value-multiple>\n			<input type="text"\n				ng-model="formController.codeInputModel"\n				name="{{formController.codeInputName}}">\n		</div>\n	</div>\n	<div class="oo-auth-form-footer">\n		<button class="oo-form-button oo-auth-form-button greyscale"\n			ng-click="formController.onCancel()">{{\'common.cancel\' | i18n}}</button>\n		<button class="oo-form-button oo-auth-form-button"\n			type="submit"\n			oui-button-loading="formController.loading === true"\n			ng-click="formController.onSubmit()">{{\'common.submit\' | i18n}}</button>\n	</div>\n	<div ng-show="formController.loading" class="oui-layout-auth-loading-mask"></div>\n</div>\n')}]),a.module("oui-layout/main/dashboard/dashboard.dir._main.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/main/dashboard/dashboard.dir._main.tpl.html",'<div style="position:relative;" class="oui-fullsize oui-db-container oui-layout-elt">\n	<div ng-show="false" ng-transclude></div>\n	<div class="oo-db-container" ng-show="!currentWs">\n		<div class="oo-db-container-opacity">\n\n			<div class="oo-db-header">\n				<div ng-if="header && !headerTpl" class="oo-title">{{header | i18nOrText}}</div>\n				<div ng-if="headerTpl" class="oo-title" ng-include="headerTpl"></div>\n			</div>\n\n			<div class="oo-db-content-wrapper">\n				<div class="oo-db-poweredby"></div>\n				<div class="oo-db-content">\n					<div ng-if="content && ! contentTpl">{{content | i18nOrText}}</div>\n					<div ng-if="contentTpl"  ng-include="contentTpl"></div>\n				</div>\n			</div>\n\n			<div class="oo-db-bottombar">\n\n				<div class="icon-dashboard oo-db-button-reload" ng-click="reloadWindow()" ng-if="displayReloadButton"></div>\n\n				<div class="oo-db-footer">\n					<div ng-if="footer && ! footerTpl">{{footer | i18nOrText}}</div>\n					<div ng-if="footerTpl"  ng-include="footerTpl"></div>\n				</div>\n\n				<div class="oo-db-footer-secondary">\n					<div ng-if="footerSecondary && ! footerSecondaryTpl">{{footerSecondary | i18nOrText}}</div>\n					<div ng-if="footerSecondaryTpl"  ng-include="footerSecondaryTpl"></div>\n				</div>\n			</div>\n\n		</div>\n	</div>\n\n	<div class="oo-mask oo-sp-mask" ng-show="currentSp"></div>\n	<div ng-repeat="ws in workspaces"\n		class="oui-dashboard-workspace" wsId="{{ws.name}}"\n		ng-show="ws.visible">\n		<div ng-if="ws.visible || (ws.domConserve && ws.displayedOnce)">\n			<div class="oui-fullsize" ng-include="ws.tpl"></div>\n		</div>\n	</div>\n	<div ng-repeat="sp in sidepanels"\n		class="oui-layout-sidepanel" spId="{{sp.name}}" nav="{{sp.nav}}"\n		ng-show="sp.visible">\n		<div ng-if="sp.visible || (sp.domConserve && sp.displayedOnce)">\n			<div ng-include="sp.tpl"></div>\n		</div>\n	</div>\n</div>\n')}]),a.module("oui-layout/main/sidepanel/sidepanel.dir._main.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/main/sidepanel/sidepanel.dir._main.tpl.html",'<div class="oui-fullsize oo-sp-container oui-layout-elt oui-sp-container {{id}}" id="{{id}}">\n	<div ng-show="false" ng-transclude></div>\n	<div class="oo-mask oui-sp-main-mask ng-hide" ng-style="{\'z-index\':maskZindex};"></div>\n	<div class="oo-mask oo-sp-mask" ng-show="currentSp" ng-style="{\'z-index\':maskZindex};"></div>\n	<div class="oui-fullsize oo-sp-content oui-layout-elt-content" ng-show="currentPage">\n		<div class="oo-layout-pages">\n			<div ng-repeat="page in pages"\n				class="oui-fullsize oo-layout-page oo-sp-page oo-sp-page-{{page.pageId}}" pageId="{{page.pageId}}"\n				ng-class="{\'oo-sp-page-with-help\':page.sideHelp}"\n				ng-if="page.selected || (page.domConserve && page.displayedOnce)"\n				ng-show="page.selected">\n				<div class="oo-mask oo-sp-page-mask" ng-show="page.masked" ng-style="{\'z-index\':maskZindex};"></div>\n				<div class="oui-fullsize" ng-include="page.tpl"></div>\n			</div>\n		</div>\n	</div>\n	<div ng-repeat="sp in sidepanels"\n		class="oui-layout-sidepanel" spId="{{sp.name}}"\n		ng-style="{\'z-index\':sp.zindex}"\n		ng-show="sp.visible">\n		<div ng-if="sp.visible || (sp.domConserve && sp.displayedOnce)">\n			<div ng-include="sp.tpl"></div>\n		</div>\n	</div>\n	<div class="oo-sidebar">\n		<div class="oo-sb-button oo-sb-button-close" ng-click="onClose()">\n			<div class="oo-sb-button-inner">\n				<i class="icon-close"></i>\n				<div class="oo-arrow"></div>\n			</div>\n		</div>\n		<div ng-repeat="button in buttons"\n			ng-class="{\'oo-selected\':button.selected,\'oo-sb-button-text\':buttonHasText(button),\'oo-sb-button\':!buttonHasText(button)}"\n			ng-click="handleButtonClick(button)">\n			<div class="oo-sb-button-inner">\n				<i ng-class="getIconClass(button)" ng-text="button.icon"></i>\n				<span><span>{{button.name | i18nOrText}}</span></span>\n			</div>\n			<div class="oo-arrow"></div>\n		</div>\n	</div>\n</div>\n')}]),a.module("oui-layout/main/sidepanel/sidepanel.dir.pageInfosExpanded.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/main/sidepanel/sidepanel.dir.pageInfosExpanded.tpl.html",'<div class="oo-sp-infos-expanded" ng-show="visible" tabindex="0">\n	<div class="oo-sp-infos-expanded-margin"></div>\n	<div class="oo-sp-infos-expanded-content" ng-transclude></div>\n</div>\n')}]),a.module("oui-layout/main/sidepanel/sidepanel.dir.pageInfosSummaryIcoTop.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/main/sidepanel/sidepanel.dir.pageInfosSummaryIcoTop.tpl.html",'<div class="oo-sp-infos-summary-ico-top">\n	<div class="oo-top">\n		<div ng-if="cpt || cpt === 0"class="oo-cpt-wrapper">\n			<div class="oo-cpt">\n				<i ng-class="getIconClass()"></i><span class="oo-cpt">{{cpt}}</span>\n			</div>\n		</div><span class="oo-expand" ng-show="expandButton" ng-click="toggleExpandedPanel()">\n			<i ng-class="{\'icon-expand\':!isExpanded(), \'icon-collapse\':isExpanded()}"></i>\n		</span>\n		<i ng-if="!cpt && cpt !== 0" ng-class="getIconClass()"></i>\n	</div>\n	<div class="oo-text">\n		<div class="oo-text-inner" ng-transclude>\n		</div>\n	</div>\n</div>')}]),a.module("oui-layout/main/workspace/workspace.dir._main.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/main/workspace/workspace.dir._main.tpl.html",'<div class="oui-fullsize oo-ws-container oui-layout-elt oui-ws-container" id="{{id}}">\n	<div ng-show="false" ng-transclude></div>\n	<div class="oo-mask oo-sp-mask" ng-show="currentSp" ng-style="{\'z-index\':maskZindex};"></div>\n	<div class="oui-fullsize oo-ws-content oui-layout-elt-content" ng-show="currentPage">\n		<div class="oo-layout-pages">\n			<div ng-repeat="page in pages"\n				class="oui-fullsize oo-ws-content-inner oo-layout-page oo-ws-page oo-ws-page-{{page.pageId}}" pageId="{{page.pageId}}"\n				ng-if="page.selected || (page.domConserve && page.displayedOnce)"\n				ng-show="page.selected"\n				ng-include="page.tpl">\n			</div>\n		</div>\n	</div>\n	<div ng-repeat="sp in sidepanels"\n		class="oui-layout-sidepanel" spId="{{sp.name}}" nav="{{sp.nav}}"\n		ng-style="{\'z-index\':sp.zindex}"\n		ng-show="sp.visible">\n		<div ng-if="sp.visible || (sp.domConserve && sp.displayedOnce)">\n			<div ng-include="sp.tpl"></div>\n		</div>\n	</div>\n	<div class="oo-sidebar">\n		<div ng-repeat="button in buttons"\n			ng-id="button.buttonId"\n			ng-class="{\'oo-selected\':button.selected,\'oo-sb-button-text\':buttonHasText(button),\'oo-sb-button\':!buttonHasText(button)}"\n			ng-click="handleButtonClick(button)"\n			oui-tooltip-text="{{button.tooltip}}"\n			oui-tooltip-cfg="{pos: \'r\'}">\n			<div class="oo-sb-button-inner">\n				<i ng-class="getIconClass(button)" ng-text="button.icon"></i>\n				<span><span>{{button.name | i18nOrText}}</span></span>\n			</div>\n			<div class="oo-arrow"></div>\n		</div>\n	</div>\n	<div class="oo-ws-topbar" ng-class="{\'oo-no-db-button\':!dashboardButton}">\n		<div class="oo-ws-topbar-db-link" ng-click="dashboardClick()">\n			<i class="icon-dashboard"></i>\n		</div>\n		<div class="oo-ws-topbar-inner">\n			<div class="oo-title">\n				<div class="oo-app-logo"><div class="oo-app-logo-inner"></div></div>\n				<div class="oo-sep"><div class="oo-sep-inner"></div></div>\n				<div class="oo-ws-logo">\n					<div class="oo-ws-logo-inner">\n						<div class="oo-logo"><div class="oo-logo-inner"></div></div>\n						<span class="oo-poweredBy">powered by <span class="oo-poweredBy-oodrive">oodrive</span></span>\n					</div>\n				</div>\n				<div ng-if="title" class="oo-sep"><div class="oo-sep-inner"></div></div>\n				<span ng-if="title" class="oo-text">{{title | i18nOrText}}</span>\n			</div>\n		</div>\n	</div>\n</div>\n')}]),a.module("oui-layout/page/pageBodyBlock.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/page/pageBodyBlock.tpl.html",'<div ng-class="{\'oo-collapsible\': collapsible, \'oo-collapsed\': collapsed}" class="oo-page-body-block">\n	<div class="oo-page-body-block-title" ng-click="collapseToggle()">\n		<i></i>\n		<div class="oo-title">{{title | i18nOrText}}</div>\n	</div>\n	<div ng-class="{\'oo-page-body-block-body-filled\': filled}" class="oo-page-body-block-body">\n		<div class="oo-page-body-block-body-inner" ng-transclude>\n		</div>\n	</div>\n</div>')}]),a.module("oui-layout/simple/simplePage.tpl.html",[]).run(["$templateCache",function(a){a.put("oui-layout/simple/simplePage.tpl.html",'<div class="oo-simple">\n	<div class="oo-simple-opacity">\n		<div class="oo-simple-header"><div class="oo-title">{{pageTitle | i18nOrText}}</div></div>\n		<div class="oo-simple-poweredby"></div>\n		<div class="oo-simple-footer"></div>\n\n		<div class="oo-simple-panel">\n			<div class="oo-simple-panel-cell">\n				<div class="oo-simple-panel-content" ng-transclude></div>\n			</div>\n		</div>\n	</div>\n</div>')}])}(a)}(angular);